#===============================================================================
#  HYTALE SERVER - CONFIGURATION PRINCIPALE
#  Toutes les variables configurables sont centralisées ici
#===============================================================================

#===============================================================================
#  CHEMINS
#===============================================================================

# Répertoire d'installation (modifié automatiquement par install.sh)
INSTALL_DIR="/home/hytales/paratale"

# Sous-répertoires (relatifs à INSTALL_DIR si non absolus)
SERVER_DIR="${INSTALL_DIR}/server"
ASSETS_DIR="${INSTALL_DIR}/assets"
BACKUPS_DIR="${INSTALL_DIR}/backups"
LOGS_DIR="${INSTALL_DIR}/logs"
CONFIG_DIR="${INSTALL_DIR}/config"

# Fichiers du serveur
SERVER_JAR="HytaleServer.jar"
ASSETS_FILE="Assets.zip"

#===============================================================================
#  SERVEUR HYTALE
#===============================================================================

# Nom de la session screen
SCREEN_NAME="hytale"

# Adresse et port d'écoute (UDP, protocole QUIC)
BIND_ADDRESS="0.0.0.0:5520"

# Mode d'authentification: authenticated | offline
AUTH_MODE="authenticated"

# Canal de téléchargement: release | pre-release
PATCHLINE="release"

#===============================================================================
#  JAVA
#===============================================================================

# Chemin vers l'exécutable Java (laisser vide pour utiliser java du PATH)
# Exemple: "/usr/lib/jvm/temurin-25-jdk-amd64/bin/java"
JAVA_PATH=""

# Version minimum requise
JAVA_MIN_VERSION=25

# Options JVM
JAVA_OPTS="-Xms4G -Xmx8G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200"

# Utiliser le cache AOT si disponible (améliore le temps de démarrage)
USE_AOT_CACHE="true"

#===============================================================================
#  BACKUP
#===============================================================================

# Activer le backup intégré Hytale
ENABLE_BUILTIN_BACKUP="true"

# Fréquence du backup intégré (minutes)
BACKUP_FREQUENCY=30

# Nombre maximum de backups manuels à conserver
MAX_BACKUPS=7

# Préfixe des fichiers de backup
BACKUP_PREFIX="hytale_backup"

#===============================================================================
#  SYSTEMD (pour les fichiers .service et .timer)
#===============================================================================

# Utilisateur système
HYTALE_USER="hytale"
HYTALE_GROUP="hytale"

# Fréquence du timer de backup (format systemd OnCalendar)
# Exemples: "*-*-* 00/6:00:00" (toutes les 6h), "daily" (quotidien)
BACKUP_TIMER_SCHEDULE="*-*-* 00/6:00:00"

# Délai après le boot pour le premier backup (secondes)
BACKUP_BOOT_DELAY="5min"

#===============================================================================
#  TÉLÉCHARGEMENT (update.sh)
#===============================================================================

# URL du downloader officiel
DOWNLOADER_URL="https://downloader.hytale.com/hytale-downloader.zip"
